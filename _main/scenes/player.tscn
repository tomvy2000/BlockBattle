[gd_scene load_steps=7 format=3 uid="uid://cm8acdwyarrnv"]

[ext_resource type="Script" path="res://_main/scenes/player.gd" id="1_1c05j"]
[ext_resource type="Texture2D" uid="uid://5toqxpi27ii2" path="res://icon.svg" id="1_f1s0j"]
[ext_resource type="Texture2D" uid="uid://boipf2kkdrcdc" path="res://_main/sprites/shield (1).png" id="2_2s0l3"]
[ext_resource type="Script" path="res://_main/scripts/health_component.gd" id="3_x0d7r"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7s5jg"]
size = Vector2(128, 128)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_hknjo"]
bg_color = Color(1, 0.333121, 0.353417, 1)

[node name="Player" type="Area2D" node_paths=PackedStringArray("health_component")]
script = ExtResource("1_1c05j")
health_component = NodePath("HealthComponent")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_7s5jg")

[node name="CharacterSprite" type="Sprite2D" parent="."]
texture = ExtResource("1_f1s0j")

[node name="HealthComponent" type="Node" parent="." node_paths=PackedStringArray("health_bar", "health_display", "shield_display")]
script = ExtResource("3_x0d7r")
max_hp = 100.0
initial_shield = 10.0
health_bar = NodePath("../HealthBar")
health_display = NodePath("../HealthBar/HealthDisplay")
shield_display = NodePath("../HealthBar/Shield/ShieldDisplay")

[node name="HealthBar" type="ProgressBar" parent="."]
offset_left = -92.0
offset_top = 77.0
offset_right = 93.0
offset_bottom = 104.0
theme_override_styles/fill = SubResource("StyleBoxFlat_hknjo")
max_value = 1.0
value = 0.5
show_percentage = false

[node name="Shield" type="Sprite2D" parent="HealthBar"]
position = Vector2(-15, 15)
texture = ExtResource("2_2s0l3")

[node name="ShieldDisplay" type="Label" parent="HealthBar/Shield"]
offset_left = -10.0
offset_top = -15.0
offset_right = 10.0
offset_bottom = 15.0
text = "10"

[node name="HealthDisplay" type="Label" parent="HealthBar"]
layout_mode = 0
offset_left = 69.0
offset_top = 2.0
offset_right = 121.0
offset_bottom = 25.0
text = "50/100"
